# 静かなる記号たち

関数と式を基本としている言語において、コード中に大量の括弧が現れるのは自然と予想されることです。かの LISP が「括弧だらけの言語」として揶揄されるのは偶然ではないのです。

しかしながら　Frege では、記号はまったく目立たず、括弧をほとんど使わないコーディングスタイルに対応しています。

それでは、関数適用から始めましょう。

## 関数適用

```
f(x)    -- as known from many languages
f x     -- Frege style (like linear functions in mathematics)
f $ x   -- explicit function application with the $ operator
f(x,y)  -- taking a tuple as an argument
f x y   -- same as ((f x) y)
```

Frege では関数適用を表すのに空白文字を、すなわち文字セットの中でもっとも目立たない文字を使用します。関数適用は、すべての演算子の中でもっとも高い優先度を持つ、つまり他のどんな演算子よりも強く結合する性質があります。また関数適用は左結合的でもあります。`f x y` は実際にはふたつの関数適用からできていて、まず `f x` が関数を返し、`y` がその関数の引数となります。

最後に挙げた例は通常 _カリー化_ や _部分適用_ などと呼ばれます。しかしその内容は特に _部分的_ であるというわけではなく、単に _f_ が _x_ を引数に取る関数 (これはさらに _y_ を引数として取る) であるというだけです。時は 19 世紀、関数を返す関数はゴッドローブ・フレーゲによって初めて導入されました。

## ドル記号

`g x` のような関数適用が他の関数 _f_ の引数として現れる場合、括弧付きで `f (g x)` と書かねばなりません。そうしないと、_g_ のみが _f_ の引数とみなされてしまい、ほしい結果が得られないためです。このままではネストが深くなった時扱いづらいため、ドル記号による代替記法が用意されています。

```
foo (bar (baz (buz x)))  -- deeply nested style
foo $ bar $ baz $ buz x  -- flat $ style
```

面白いことに、_$_ 演算子は言語組み込みの機能ではありません。中置演算子として定義された通常の関数です。その定義は `f $ x = f x` のようになっています。巧妙なのは _$_ の優先度が非常に低く設定されているところで、これによって _$_ より右側 (後で見るように左側も同様) にあるすべての演算子がまず適用され、その結果が _f_ に渡るようになっています。

実用上、_$_ は開き括弧に相当するものと見て、対応する閉じ括弧が式の一番右側にあると考えることもできます。
